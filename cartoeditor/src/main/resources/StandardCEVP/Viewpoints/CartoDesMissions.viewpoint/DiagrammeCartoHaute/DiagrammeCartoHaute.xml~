<?xml version="1.0" encoding="UTF-8"?>
<VirtualModel id="0" useSpecificDescriptions="false" userID="FLX" flexoID="-1" description="ReprésentationSimplifiée de la cartographie haute." name="DiagrammeCartoHaute">
  <FlexoConcept id="1" useSpecificDescriptions="false" userID="FLX" flexoID="9" name="ObjectifGR">
    <Inspector id="2" flexoID="3" useSpecificDescriptions="false" userID="FLX" inspectorTitle="ObjectifGR" renderer="instance.objectif.render.toString" />
    <ShapeRole id="3" exampleLabel="label" userID="FLX" useSpecificDescriptions="false" cloningStratgey="Clone" flexoID="21" name="shape">
      <ShapeGraphicalRepresentation id="4" minimalHeight="0.0" relativeTextX="0.5" transparency="1.0" drawControlPointsWhenFocused="true" height="75.0" hasFocusedBackground="false" verticalTextAlignment="MIDDLE" adjustMinimalWidthToLabelWidth="true" width="200.0" hasFocusedForeground="false" hasSelectedBackground="false" allowToLeaveBounds="true" isFocusable="true" drawControlPointsWhenSelected="true" isSelectable="true" isLabelEditable="true" relativeTextY="0.5" continuousTextEditing="true" minimalWidth="0.0" identifier="4ac39d3b" lineWrap="true" locationConstraints="FREELY_MOVABLE" adjustMinimalHeightToLabelHeight="true" horizontalTextAlignment="CENTER" adaptBoundsToContents="false" maximalHeight="Infinity" isVisible="true" dimensionConstraints="FREELY_RESIZABLE" isReadOnly="false" adjustMaximalHeightToLabelHeight="false" isFloatingLabel="false" hasSelectedForeground="false" paragraphAlignment="CENTER" absoluteTextX="0.0" layer="1" absoluteTextY="0.0" adjustMaximalWidthToLabelWidth="false" isMultilineAllowed="true" y="42.0" maximalWidth="Infinity" x="92.0">
        <FocusedForegroundStyle id="5" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <SelectedColorBackgroundStyle id="6" color="192,192,192" transparencyLevel="0.5" useTransparency="false" />
        <TextStyle id="7" orientation="0" color="0,0,0" backgroundColor="255,255,255" font="SansSerif.bold,1,12" isBackgroundColored="false" />
        <ShapeBorder id="8" bottom="2" left="2" right="2" top="2" />
        <ForegroundStyle id="9" dashStyle="PLAIN_STROKE" color="204,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <SelectedForegroundStyle id="10" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <FocusedColorBackgroundStyle id="11" color="192,192,192" transparencyLevel="0.5" useTransparency="false" />
        <RectangleShape id="12" arcSize="15.0" isRounded="true" />
        <ShadowStyle id="13" shadowDepth="1" shadowBlur="4" drawShadow="true" shadowDarkness="141" />
        <ColorGradientBackgroundStyle id="14" direction="NORTH_SOUTH" transparencyLevel="0.5" useTransparency="false" color2="255,255,204" color1="255,94,94" />
      </ShapeGraphicalRepresentation>
      <GRSpec id="15" featureName="label" flexoID="227" readOnly="true" useSpecificDescriptions="false" userID="FLX" value="objectif.exceldata.excelCells.get(1).cellValue.toString" />
      <TypedDiagramModelSlot idref="16" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="25" cloningStratgey="Reference" flexoID="12" description="" name="objectif" userID="FLX" useSpecificDescriptions="false" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute#ObjectifInterpellation">
      <VirtualModelModelSlot idref="20" />
    </FlexoConceptInstanceRole>
    <CreationScheme id="26" userID="FLX" width="800" useSpecificDescriptions="false" label="createFromObjectif" definePopupDefaultSize="false" height="600" flexoID="13" skipConfirmationPanel="false" name="createFromObjectif">
      <FlexoConceptInstanceParameter id="27" userID="FLX" useSpecificDescriptions="false" label="objectifToRepresent" flexoID="15" isRequired="true" name="objectifToRepresent" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute#ObjectifInterpellation">
        <VirtualModelModelSlot idref="20" />
      </FlexoConceptInstanceParameter>
      <AddShape id="28" flexoID="33" assignation="shape" description="" container="virtualModelInstance.diagram" userID="FLX" useSpecificDescriptions="false" extendParentBoundsToHostThisShape="false">
        <TypedDiagramModelSlot idref="16" />
      </AddShape>
      <DeclareFlexoRole id="29" useSpecificDescriptions="false" userID="FLX" object="parameters.objectifToRepresent" flexoID="34" description="" assignation="objectif" />
    </CreationScheme>
    <DropScheme id="18" userID="FLX" width="800" useSpecificDescriptions="false" label="dropSelect" definePopupDefaultSize="false" height="600" flexoID="35" skipConfirmationPanel="false" name="dropSelect" target="top">
      <FlexoConceptInstanceParameter id="19" userID="FLX" useSpecificDescriptions="false" label="objectifToRepresent" flexoID="37" isRequired="true" name="objectifToRepresent" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute#ObjectifInterpellation">
        <VirtualModelModelSlot idref="20" />
      </FlexoConceptInstanceParameter>
      <DeclareFlexoRole id="21" useSpecificDescriptions="false" userID="FLX" object="parameters.objectifToRepresent" flexoID="38" assignation="objectif" />
      <AddShape id="22" flexoID="39" assignation="shape" container="topLevel" userID="FLX" useSpecificDescriptions="false" extendParentBoundsToHostThisShape="false">
        <TypedDiagramModelSlot idref="16" />
      </AddShape>
    </DropScheme>
  </FlexoConcept>
  <FlexoConcept id="30" useSpecificDescriptions="false" userID="FLX" flexoID="217" name="DeclinaisonGR">
    <Inspector id="31" flexoID="220" useSpecificDescriptions="false" userID="FLX" inspectorTitle="DeclinaisonGR" />
    <ShapeRole id="32" exampleLabel="label" userID="FLX" useSpecificDescriptions="false" cloningStratgey="Clone" flexoID="221" name="shape">
      <ShapeGraphicalRepresentation id="33" minimalHeight="0.0" relativeTextX="0.5" transparency="1.0" drawControlPointsWhenFocused="true" height="75.0" hasFocusedBackground="false" verticalTextAlignment="MIDDLE" adjustMinimalWidthToLabelWidth="true" width="200.0" hasFocusedForeground="false" hasSelectedBackground="false" allowToLeaveBounds="true" isFocusable="true" drawControlPointsWhenSelected="true" isSelectable="true" isLabelEditable="true" relativeTextY="0.5" continuousTextEditing="true" minimalWidth="0.0" identifier="3adb9933" lineWrap="true" locationConstraints="FREELY_MOVABLE" adjustMinimalHeightToLabelHeight="true" horizontalTextAlignment="CENTER" adaptBoundsToContents="false" maximalHeight="Infinity" isVisible="true" dimensionConstraints="FREELY_RESIZABLE" isReadOnly="false" adjustMaximalHeightToLabelHeight="false" isFloatingLabel="false" hasSelectedForeground="false" paragraphAlignment="CENTER" absoluteTextX="0.0" layer="1" absoluteTextY="0.0" adjustMaximalWidthToLabelWidth="false" isMultilineAllowed="true" y="43.0" maximalWidth="Infinity" x="96.0">
        <FocusedForegroundStyle id="34" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <SelectedColorBackgroundStyle id="35" color="192,192,192" transparencyLevel="0.5" useTransparency="false" />
        <TextStyle id="36" orientation="0" color="0,0,0" backgroundColor="255,255,255" font="SansSerif.bold,1,12" isBackgroundColored="false" />
        <ShapeBorder id="37" bottom="2" left="2" right="2" top="2" />
        <ForegroundStyle id="38" dashStyle="PLAIN_STROKE" color="51,204,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.499999998509884" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <SelectedForegroundStyle id="39" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <FocusedColorBackgroundStyle id="40" color="192,192,192" transparencyLevel="0.5" useTransparency="false" />
        <RectangleShape id="41" arcSize="30.0" isRounded="true" />
        <ShadowStyle id="42" shadowDepth="1" shadowBlur="4" drawShadow="true" shadowDarkness="150" />
        <ColorGradientBackgroundStyle id="43" direction="NORTH_SOUTH" transparencyLevel="0.5" useTransparency="false" color2="109,205,77" color1="240,253,234" />
      </ShapeGraphicalRepresentation>
      <GRSpec id="44" featureName="label" flexoID="228" readOnly="true" useSpecificDescriptions="false" userID="FLX" value="declinaison.exceldata.excelCells.get(1).cellValue.toString" />
      <TypedDiagramModelSlot idref="16" />
    </ShapeRole>
    <FlexoConceptInstanceRole id="45" cloningStratgey="Reference" flexoID="222" name="declinaison" userID="FLX" useSpecificDescriptions="false" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute#DeclinaisonTransversale">
      <VirtualModelModelSlot idref="20" />
    </FlexoConceptInstanceRole>
    <CreationScheme id="46" userID="FLX" width="800" useSpecificDescriptions="false" label="createFromDeclinaison" definePopupDefaultSize="false" height="600" flexoID="219" skipConfirmationPanel="false" name="createFromDeclinaison">
      <FlexoConceptInstanceParameter id="47" userID="FLX" useSpecificDescriptions="false" label="declToRepresent" flexoID="55" isRequired="true" name="declToRepresent" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute#DeclinaisonTransversale">
        <VirtualModelModelSlot idref="20" />
      </FlexoConceptInstanceParameter>
      <AddShape id="48" flexoID="216" assignation="shape" container="virtualModelInstance.diagram" userID="FLX" useSpecificDescriptions="false" extendParentBoundsToHostThisShape="false">
        <TypedDiagramModelSlot idref="16" />
      </AddShape>
      <DeclareFlexoRole id="49" useSpecificDescriptions="false" userID="FLX" object="parameters.declToRepresent" flexoID="218" assignation="declinaison" />
    </CreationScheme>
  </FlexoConcept>
  <FlexoConcept id="50" useSpecificDescriptions="false" userID="FLX" flexoID="64" name="ObjectifDeclinaisonLink">
    <Inspector id="51" flexoID="61" useSpecificDescriptions="false" userID="FLX" inspectorTitle="ObjectifDeclinaisonLink" />
    <ConnectorRole id="52" exampleLabel="label" useSpecificDescriptions="false" userID="FLX" cloningStratgey="Clone" flexoID="68" name="connector">
      <ConnectorGraphicalRepresentation id="53" lineWrap="false" horizontalTextAlignment="CENTER" transparency="1.0" drawControlPointsWhenFocused="true" isVisible="true" isReadOnly="false" paragraphAlignment="CENTER" hasSelectedForeground="false" verticalTextAlignment="MIDDLE" hasFocusedForeground="false" applyForegroundToSymbols="true" layer="64" absoluteTextX="0.0" absoluteTextY="0.0" isFocusable="true" drawControlPointsWhenSelected="true" isSelectable="true" isLabelEditable="true" continuousTextEditing="true" isMultilineAllowed="false" identifier="60ab0f3c">
        <SelectedForegroundStyle id="54" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <FocusedForegroundStyle id="55" dashStyle="PLAIN_STROKE" color="0,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="1.0" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
        <RectPolylinConnectorSpecification id="56" isEndingLocationFixed="false" endOrientation="WEST" relativeMiddleSymbolLocation="0.5" isStartingLocationDraggable="false" middleSymbolSize="10.0" adjustability="AUTO_LAYOUT" straightLineWhenPossible="true" startSymbol="NONE" endSymbol="NONE" rectPolylinConstraints="HORIZONTAL_OR_VERTICAL_LAYOUT" startOrientation="EAST" pixelOverlap="20" arcSize="5" startSymbolSize="10.0" middleSymbol="NONE" isEndingLocationDraggable="false" endSymbolSize="10.0" isRounded="true" isStartingLocationFixed="false" />
        <TextStyle id="57" orientation="0" color="0,0,0" backgroundColor="255,255,255" font="SansSerif,1,11" isBackgroundColored="false" />
        <ForegroundStyle id="58" dashStyle="PLAIN_STROKE" color="255,0,0" transparencyLevel="0.5" noStroke="false" useTransparency="false" lineWidth="2.500000001490116" joinStyle="JOIN_MITER" capStyle="CAP_SQUARE" />
      </ConnectorGraphicalRepresentation>
      <TypedDiagramModelSlot idref="16" />
    </ConnectorRole>
    <FlexoConceptInstanceRole id="59" cloningStratgey="Reference" flexoID="83" name="declinaisonGR" userID="FLX" useSpecificDescriptions="false" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute#DeclinaisonGR">
      <VirtualModelModelSlot idref="60" />
    </FlexoConceptInstanceRole>
    <CreationScheme id="61" userID="FLX" width="800" useSpecificDescriptions="false" label="attachDeclinaisonToObjectif" definePopupDefaultSize="false" height="600" flexoID="69" skipConfirmationPanel="false" name="attachDeclinaisonToObjectif">
      <FlexoConceptInstanceParameter id="62" userID="FLX" useSpecificDescriptions="false" label="objectifToAttachTo" flexoID="86" isRequired="false" name="objectifToAttachTo" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute#ObjectifInterpellation">
        <VirtualModelModelSlot idref="20" />
      </FlexoConceptInstanceParameter>
      <FlexoConceptInstanceParameter id="63" userID="FLX" useSpecificDescriptions="false" label="declinaisonGRToAttachFrom" flexoID="87" isRequired="false" name="declinaisonGRToAttachFrom" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute#DeclinaisonGR">
        <VirtualModelModelSlot idref="60" />
      </FlexoConceptInstanceParameter>
      <FetchRequestIterationAction id="64" flexoID="91" iteratorName="selectedObjectifGR" description="" userID="FLX" useSpecificDescriptions="false">
        <VirtualModelModelSlot idref="60" />
        <FetchRequest_SelectFlexoConceptInstance id="65" flexoID="92" useSpecificDescriptions="false" userID="FLX" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute#ObjectifGR">
          <Condition id="66" flexoID="90" condition="(selected.objectif = parameters.objectifToAttachTo)" useSpecificDescriptions="false" userID="FLX" />
          <VirtualModelModelSlot idref="60" />
        </FetchRequest_SelectFlexoConceptInstance>
        <AddConnector id="67" useSpecificDescriptions="false" userID="FLX" flexoID="93" description="" assignation="connector" fromShape="parameters.declinaisonGRToAttachFrom.shape" toShape="selectedObjectifGR.shape">
          <TypedDiagramModelSlot idref="16" />
        </AddConnector>
      </FetchRequestIterationAction>
      <DeclareFlexoRole id="68" useSpecificDescriptions="false" userID="FLX" object="parameters.declinaisonGRToAttachFrom" flexoID="95" description="" assignation="declinaisonGR" />
    </CreationScheme>
  </FlexoConcept>
  <Inspector id="69" flexoID="-1" useSpecificDescriptions="false" userID="FLX" inspectorTitle="DiagrammeCartoHaute" />
  <ModelSlot_VirtualModelModelSlot id="60" cloningStratgey="Reference" flexoID="1" isRequired="false" useSpecificDescriptions="false" userID="FLX" name="virtualModelInstance" isReadOnly="false" virtualModelURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute" />
  <ModelSlot_VirtualModelModelSlot id="20" cloningStratgey="Reference" flexoID="2" isRequired="true" useSpecificDescriptions="false" userID="FLX" name="cartohautebdd" isReadOnly="false" virtualModelURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute" />
  <ModelSlot_TypedDiagramModelSlot id="16" useSpecificDescriptions="false" userID="FLX" cloningStratgey="Reference" flexoID="11" isRequired="true" name="diagram" metaModelURI="http://www.brest.fr/diagramCartoHauteSimple" isReadOnly="false">
    <FMLDiagramPaletteElementBinding id="17" paletteElementId="http://www.brest.fr/diagramCartoHauteSimple/CartoHauteSimple.palette#Objectif" useSpecificDescriptions="false" userID="FLX" flexoID="2">
      <DropScheme idref="18" />
      <FMLDiagramPaletteElementBindingParameter id="23" flexoID="3" userID="FLX" useSpecificDescriptions="false" />
      <FMLDiagramPaletteElementBindingParameter id="24" flexoID="4" userID="FLX" useSpecificDescriptions="false" />
    </FMLDiagramPaletteElementBinding>
  </ModelSlot_TypedDiagramModelSlot>
  <ActionScheme id="70" userID="FLX" width="800" useSpecificDescriptions="false" label="updateHierarchy" definePopupDefaultSize="false" height="600" flexoID="70" skipConfirmationPanel="false" name="updateHierarchy">
    <FetchRequestIterationAction id="71" flexoID="71" iteratorName="selectedObjectifGR" userID="FLX" useSpecificDescriptions="false">
      <VirtualModelModelSlot idref="60" />
      <FetchRequest_SelectFlexoConceptInstance id="72" flexoID="72" useSpecificDescriptions="false" userID="FLX" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute#ObjectifGR">
        <VirtualModelModelSlot idref="60" />
      </FetchRequest_SelectFlexoConceptInstance>
      <FetchRequestIterationAction id="73" flexoID="73" iteratorName="selectedDeclinaison" userID="FLX" useSpecificDescriptions="false">
        <VirtualModelModelSlot idref="20" />
        <FetchRequest_SelectFlexoConceptInstance id="74" flexoID="74" useSpecificDescriptions="false" userID="FLX" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DBCartoHaute#DeclinaisonTransversale">
          <Condition id="75" flexoID="-1" condition="(selected.objectifDeRattachement = selectedObjectifGR.objectif)" useSpecificDescriptions="false" userID="FLX" />
          <VirtualModelModelSlot idref="20" />
        </FetchRequest_SelectFlexoConceptInstance>
        <MatchFlexoConceptInstance id="76" userID="FLX" useSpecificDescriptions="false" virtualModelInstance="virtualModelInstance" flexoID="78" creationSchemeURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute#DeclinaisonGR.createFromDeclinaison">
          <MatchingCriteria id="77" flexoID="76" userID="FLX" useSpecificDescriptions="false" patternRoleName="shape" />
          <MatchingCriteria id="78" flexoID="119" userID="FLX" useSpecificDescriptions="false" value="selectedDeclinaison" patternRoleName="declinaison" />
          <CreateFlexoConceptInstanceParameter id="79" flexoID="77" userID="FLX" useSpecificDescriptions="false" value="selectedDeclinaison" paramName="declToRepresent" />
        </MatchFlexoConceptInstance>
      </FetchRequestIterationAction>
    </FetchRequestIterationAction>
    <FetchRequestIterationAction id="80" flexoID="79" iteratorName="selectedDeclinaisonGR" description="" userID="FLX" useSpecificDescriptions="false">
      <VirtualModelModelSlot idref="60" />
      <FetchRequest_SelectFlexoConceptInstance id="81" flexoID="80" useSpecificDescriptions="false" userID="FLX" flexoConceptTypeURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute#DeclinaisonGR">
        <VirtualModelModelSlot idref="60" />
      </FetchRequest_SelectFlexoConceptInstance>
      <MatchFlexoConceptInstance id="82" userID="FLX" useSpecificDescriptions="false" virtualModelInstance="virtualModelInstance" flexoID="82" creationSchemeURI="http://www.brest.fr/CartoDesMissions/DiagrammeCartoHaute#ObjectifDeclinaisonLink.attachDeclinaisonToObjectif" description="">
        <MatchingCriteria id="83" flexoID="81" userID="FLX" useSpecificDescriptions="false" patternRoleName="connector" />
        <MatchingCriteria id="84" flexoID="84" userID="FLX" useSpecificDescriptions="false" value="selectedDeclinaisonGR" patternRoleName="declinaisonGR" />
        <CreateFlexoConceptInstanceParameter id="85" flexoID="88" userID="FLX" useSpecificDescriptions="false" value="selectedDeclinaisonGR.declinaison.objectifDeRattachement" paramName="objectifToAttachTo" />
        <CreateFlexoConceptInstanceParameter id="86" flexoID="89" userID="FLX" useSpecificDescriptions="false" value="selectedDeclinaisonGR" paramName="declinaisonGRToAttachFrom" />
      </MatchFlexoConceptInstance>
    </FetchRequestIterationAction>
  </ActionScheme>
</VirtualModel>
